(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{355:function(e,t,r){},370:function(e,t,r){"use strict";var n=r(355);r.n(n).a},387:function(e,t,r){"use strict";r.r(t);r(57);var n=r(6),o=r(4),c=(r(189),r(42)),l={data:function(){var e=new RegExp("^([一-﨩]|[-]|[a-zA-Z0-9])*$"),t=new RegExp("^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$"),r=new RegExp("^[-0-9A-Za-z]{36}$");return{searchForm:{accesstoken:""},saveBtnLoading:!1,rules:{userName:[{required:!0,message:"姓名不能为空",trigger:"blur"},{validator:function(t,r,n){r&&(e.test(r)||n(new Error("您输入的用户名格式不正确")));n()},trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:function(e,r,n){if(r){var o=r.length;(o<6||o>16)&&n(new Error("密码为6-16位数字及字母组合")),t.test(r)||n(new Error("您输入的密码格式不正确"))}n()},trigger:"blur"}],accesstoken:[{required:!0,message:"accesstoken不能为空",trigger:"blur"},{validator:function(e,t,n){t&&(36!==t.length&&n(new Error("accesstoken为36位数字及字母组合")),r.test(t)||n(new Error("您输入的accesstoken格式不正确")));n()},trigger:"blur"}]}}},computed:Object(o.a)({},Object(c.b)({loginInfo:"user/loginInfo",loading:"user/loading"})),mounted:function(){console.log("loginInfo: ",this.loginInfo)},methods:{onSubmit:function(){var e=this;this.$refs.searchForm.validate(function(t){if(!t)return!1;e.onLogin()})},onLogin:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.saveBtnLoading=!0,t=Object(o.a)({},this.searchForm),e.prev=2,e.next=5,this.$store.dispatch("user/doLogin",t);case 5:r=e.sent,this.saveBtnLoading=!1,r.success&&(this.$message({message:"登录成功",type:"success"}),this.$router.push("/")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),this.$message({message:"登录失败",type:"error"}),this.saveBtnLoading=!1;case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()}},m=(r(370),r(14)),component=Object(m.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container login-container"},[r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"login-inner"},[r("el-form",{ref:"searchForm",attrs:{model:e.searchForm,rules:e.rules,"label-position":"right","label-width":"120px"}},[r("el-form-item",{attrs:{label:"accesstoken",prop:"accesstoken"}},[r("el-input",{attrs:{placeholder:"accesstoken",maxlength:36},model:{value:e.searchForm.accesstoken,callback:function(t){e.$set(e.searchForm,"accesstoken","string"==typeof t?t.trim():t)},expression:"searchForm.accesstoken"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.saveBtnLoading},on:{click:e.onSubmit}},[e._v("\n            登录\n          ")])],1)],1)],1)])])},[],!1,null,"6311c676",null);t.default=component.exports}}]);