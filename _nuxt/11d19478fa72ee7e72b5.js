(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{353:function(t,e,n){},355:function(t,e,n){"use strict";var r=n(353);n.n(r).a},357:function(t,e,n){},358:function(t,e,n){"use strict";n(57);var r=n(6),c=n(4),o=n(42),l={computed:Object(c.a)({},Object(o.b)({accesstoken:"user/accesstoken",loginInfo:"user/loginInfo",userInfo:"user/userInfo"})),mounted:function(){this.fetchUserInfo()},methods:{fetchUserInfo:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.loginInfo.loginname){t.next=4;break}return t.next=4,this.$store.dispatch("user/getUserInfo",this.loginInfo.loginname);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),toCreateTopic:function(){this.$router.push({name:"topic-create"})},toLogin:function(){this.$router.push({name:"login"})},toUserInfo:function(){this.$router.push({path:"/user/".concat(this.loginInfo.loginname)})}}},f=(n(355),n(14)),component=Object(f.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{attrs:{id:"sidebar"}},[t.accesstoken?t._e():n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("CNode：Node.js专业中文社区")])]),t._v(" "),n("div",{staticClass:"box-card-content login-box"},[n("div",{staticClass:"box-card-content-header"},[t._v("\n        您可以\n        "),n("nuxt-link",{attrs:{to:{name:"login"}}},[t._v("\n          登录\n        ")]),t._v("\n        或\n        "),n("nuxt-link",{attrs:{to:{name:"register"}}},[t._v("\n          注册\n        ")]),t._v("，也可以\n        "),n("el-button",{attrs:{type:"primary"},on:{click:t.toLogin}},[t._v("通过 GitHub 登录")])],1)])]),t._v(" "),t.accesstoken?n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("个人信息")])]),t._v(" "),n("div",{staticClass:"box-card-content"},[n("div",{staticClass:"box-card-content-header"},[n("a",{staticClass:"user_avatar",attrs:{href:"javascript:;"},on:{click:t.toUserInfo}},[n("img",{attrs:{src:t.userInfo.avatar_url,alt:t.userInfo.loginname}})]),t._v(" "),n("span",{staticClass:"user_name"},[t._v("\n          "+t._s(t.userInfo.loginname)+"\n        ")])]),t._v(" "),n("div",{staticClass:"board"},[n("span",[t._v("积分："+t._s(t.userInfo.score))])]),t._v(" "),n("div",{staticClass:"bottom"},[n("span",{staticClass:"signature"},[t._v("\n          “ 这家伙很懒，什么个性签名都没有留下。 ”\n        ")])])])]):t._e(),t._v(" "),t.accesstoken?n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"box-card-content"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:t.toCreateTopic}},[t._v("\n        发布话题\n      ")])],1)]):t._e()],1)},[],!1,null,"5442bcf6",null);e.a=component.exports},369:function(t,e,n){"use strict";var r=n(357);n.n(r).a},371:function(t,e,n){},372:function(t,e,n){"use strict";var time=n(121),r={filters:{formatDate:function(t){return Object(time.a)(t)}},props:{topics:{type:Array,default:function(){return[]}}},methods:{getTagInfo:function(t){if(t.top)return{text:"置顶",className:"top"};if(t.good)return{text:"精华",className:"good"};switch(t.tab){case"ask":return{text:"问答",className:t.tab};case"share":return{text:"分享",className:t.tab};case"job":return{text:"招聘",className:t.tab};case"good":return{text:"精华",className:t.tab};case"dev":return{text:"测试",className:t.tab};default:return{text:"",className:"default"}}},toTopicDetail:function(t){var e=t.id;this.$router.push({path:"/topic/".concat(e)})}}},c=(n(369),n(14)),component=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic_list"},t._l(t.topics,function(e){return n("div",{key:e.id+"-"+Math.random(),staticClass:"cell"},[n("a",{staticClass:"user_avatar pull-left",attrs:{href:"javascript:;"},on:{click:function(n){t.toPersonCenter(e)}}},[n("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname}})]),t._v(" "),n("span",{staticClass:"reply_count pull-left"},[n("span",{staticClass:"count_of_replies",attrs:{title:"回复数"}},[t._v("\n        "+t._s(e.reply_count)+"\n      ")]),t._v(" "),n("span",{staticClass:"count_seperator"},[t._v("/")]),t._v(" "),n("span",{staticClass:"count_of_visits",attrs:{title:"点击数"}},[t._v("\n        "+t._s(e.visit_count)+"\n      ")])]),t._v(" "),n("a",{staticClass:"last_time pull-right",attrs:{href:"javascript:;"},on:{click:function(n){t.toTopicDetail(e)}}},[n("span",{staticClass:"last_active_time"},[t._v(t._s(t._f("formatDate")(e.last_reply_at)))])]),t._v(" "),n("div",{staticClass:"topic_title_wrapper"},[n("span",{class:(r={tag:!0},r[t.getTagInfo(e).className]=!0,r)},[t._v(t._s(t.getTagInfo(e).text))]),t._v(" "),n("a",{staticClass:"topic_title",attrs:{href:"javascript:;",title:e.title},on:{click:function(n){t.toTopicDetail(e)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])])]);var r}),0)},[],!1,null,"cba81d8e",null);e.a=component.exports},382:function(t,e,n){"use strict";var r=n(371);n.n(r).a},386:function(t,e,n){"use strict";n.r(e);n(43);var r=n(4),c=(n(57),n(6)),o=n(151),l=n(42),f=n(358),v=n(372),d={components:{SideBar:f.a,TopicList:v.a},asyncData:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,e.route,e.params,t.next=3,n.dispatch("topics/getTopics");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),data:function(){return{curTab:this.tab,topTabs:o.a}},computed:Object(r.a)({},Object(l.b)({topics:"topics/topics",loading:"topics/loading",tab:"topics/tab",pageInfo:"topics/pageInfo"})),watch:{tab:function(t){this.curTab=t}},methods:{changeTab:function(t,e){var n=t.name;if(n!==this.tab){var r={tab:n,page:1};this.fetchTopics(r)}},fetchTopics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading||this.$store.dispatch("topics/getTopics",t)},handleCurrentChange:function(t){var e={tab:this.tab,page:t||1};this.fetchTopics(e)},gotoDetail:function(t){var e=t.id;this.$router.push({name:"topic",query:{id:e}})}}},h=(n(382),n(14)),component=Object(h.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"topics-container container"},[n("div",{staticClass:"clearfix",attrs:{id:"main"}},[n("side-bar"),t._v(" "),n("div",{attrs:{id:"content"}},[n("header",{staticClass:"header"},[n("el-tabs",{on:{"tab-click":t.changeTab},model:{value:t.curTab,callback:function(e){t.curTab=e},expression:"curTab"}},t._l(t.topTabs,function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t.title,name:t.tab}})}),1)],1),t._v(" "),n("div",{staticClass:"table-list"},[n("topic-list",{attrs:{topics:t.topics}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.pageInfo.total,expression:"pageInfo.total"}],staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.pageInfo.page,"page-size":t.pageInfo.limit,layout:"total, prev, pager, next, jumper, slot",total:t.pageInfo.total},on:{"current-change":t.handleCurrentChange}},[n("el-button",{staticClass:"jump-page-btn",attrs:{size:"small",type:"primary"}},[t._v("\n              跳转\n            ")])],1)],1)],1)])],1)])},[],!1,null,"12d74db9",null);e.default=component.exports}}]);