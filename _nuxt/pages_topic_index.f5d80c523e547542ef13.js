webpackJsonp([4],{LBGg:function(t,e,i){var a=i("yJe2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("53e4f09c",a,!1,{sourceMap:!1})},ZGz2:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container"},[i("div",[i("header",{staticClass:"header"},[i("span",{staticClass:"title",domProps:{textContent:t._s(t.topic.title)}}),i("div",{staticClass:"changes clearfix"},[i("span",[t._v("发布于 "+t._s(t.topic.create_at))]),i("span",[t._v("作者 "+t._s(t.topic.author&&t.topic.author.loginname))]),i("span",[t._v(t._s(t.topic.visit_count)+" 次浏览")]),i("span",[t._v("最后一次编辑是 "+t._s(t.topic.last_reply_at))]),i("span",[t._v("来自 "+t._s(t.topic.tabName))]),t.topic.is_collect?i("el-button",{staticClass:"pull-right",attrs:{type:"info",size:"small"},on:{click:t.delCollect}},[t._v("取消收藏")]):i("el-button",{staticClass:"pull-right",attrs:{type:"success",size:"small"},on:{click:t.toCollect}},[t._v("收藏")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMe,expression:"isMe"}],staticClass:"manage_topic"},[i("i",{staticClass:"edit-btn el-icon-edit-outline",on:{click:t.toEdit}}),i("i",{staticClass:"del-btn el-icon-delete",on:{click:t.toDel}})])]),i("div",{staticClass:"topic"},[i("div",{staticClass:"topic_content",domProps:{innerHTML:t._s(t.topic.content)}})])])])};a._withStripped=!0;var o={render:a,staticRenderFns:[]};e.a=o},d1bH:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("uUC9"),o=i("ZGz2"),r=!1;var n=function(t){r||(i("LBGg"),i("fC9B"))},s=i("VU/8")(a.a,o.a,!1,n,"data-v-406c75af",null);s.options.__file="pages\\topic\\index.vue",e.default=s.exports},djhk:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"blockquote{padding:0 0 0 15px;margin:0 0 20px;border-left:5px solid #eee}.markdown-text p,.preview p{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;line-height:2em;margin:1em 0}.markdown-text>:last-child,.preview>:last-child,textarea#title{margin-bottom:1em}.markdown-text>:first-child,.preview>:first-child{margin-top:0}.markdown-text li,.preview li{font-size:14px;line-height:2em}.markdown-text li code,.markdown-text p code,.preview li code,.preview p code{color:#000;background-color:#fcfafa;padding:4px 6px}.markdown-text img{cursor:pointer}.markdown-text h1 code,.markdown-text h2 code,.markdown-text h3 code,.markdown-text h4 code,.markdown-text h5 code,.markdown-text h6 code{font-size:inherit;color:inherit}.panel .markdown-text a{color:#08c}.preview{padding:.5em;font-size:15px;min-height:200px;word-break:break-all}.preview p>img{display:block;-webkit-box-shadow:0 0 4px rgba(0,0,0,.6);box-shadow:0 0 4px rgba(0,0,0,.6)}.markdown_editor .markdown_in_editor,.markdown_editor .markdown_in_preview{display:none}.markdown_editor.in_editor .markdown_in_editor,.markdown_editor.in_preview .markdown_in_preview{display:block}textarea#title{width:98%;border:none;resize:none;height:20px}.editor_buttons{margin-top:10px}.editor_buttons>button{vertical-align:baseline}",""])},fC9B:function(t,e,i){var a=i("djhk");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("6174114c",a,!1,{sourceMap:!1})},uUC9:function(t,e,i){"use strict";var a=i("Dd8w"),o=i.n(a),r=i("Xxa5"),n=i.n(r),s=i("exGp"),c=i.n(s),p=i("NYxO");e.a={asyncData:function(){var t=c()(n.a.mark(function t(e){var i,a,o=e.store,r=(e.route,e.query);return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.id,a={id:void 0===i?"":i},t.next=4,o.dispatch("topic/getTopic",a);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),computed:o()({},Object(p.mapGetters)({topic:"topic/topic",loading:"topic/loading",loginInfo:"user/loginInfo",accesstoken:"user/accesstoken"}),{isMe:function(){return!(!this.loginInfo||!this.topic.author)&&this.topic.author.loginname===this.loginInfo.loginname}}),methods:{toCollect:function(){var t=c()(n.a.mark(function t(){var e,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={accesstoken:this.accesstoken,topic_id:this.topic.id},t.prev=1,t.next=4,this.$store.dispatch("topic/collectTopic",e);case 4:t.sent.success?(this.$message({message:"收藏成功",type:"success"}),i=o()({},this.topic,{is_collect:!0}),this.$store.dispatch("topic/setTopic",{topic:i})):this.$message({message:"收藏失败",type:"error"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.$message({message:"收藏失败",type:"error"});case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),delCollect:function(){var t=c()(n.a.mark(function t(){var e,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={accesstoken:this.accesstoken,topic_id:this.topic.id},t.prev=1,t.next=4,this.$store.dispatch("topic/delTopic",e);case 4:t.sent.success?(this.$message({message:"取消收藏成功",type:"success"}),i=o()({},this.topic,{is_collect:!1}),this.$store.dispatch("topic/setTopic",{topic:i})):this.$message({message:"取消收藏失败",type:"error"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.$message({message:"取消收藏失败",type:"error"});case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),toEdit:function(){this.$router.push({name:"topic-edit",query:{id:this.topic.id}})},toDel:function(){}}}},yJe2:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,'.container[data-v-406c75af]{text-align:left;text-align:initial;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.container .header[data-v-406c75af]{background-color:#fff;padding:10px;-webkit-border-radius:3px 3px 0 0;border-radius:3px 3px 0 0}.container .header .title[data-v-406c75af]{font-size:22px;font-weight:700;margin:8px 0;display:inline-block;width:75%;line-height:130%}.container .header .changes[data-v-406c75af]{font-size:12px;color:#838383}.container .header .changes span[data-v-406c75af]:before{content:"\\2022"}.container .header .manage_topic .del-btn[data-v-406c75af],.container .header .manage_topic .edit-btn[data-v-406c75af]{cursor:pointer;font-size:16px;color:#909399}.container .header .manage_topic .edit-btn[data-v-406c75af]{padding-right:10px}.container .topic[data-v-406c75af]{padding:10px;background-color:#fff;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;border-top:1px solid #e5e5e5}.container .topic .topic-content[data-v-406c75af]{margin:0 10px}',""])}});