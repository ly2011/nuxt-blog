(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{353:function(t,e,n){},354:function(t,e,n){},355:function(t,e,n){"use strict";var r=n(353);n.n(r).a},358:function(t,e,n){"use strict";n(57);var r=n(6),c=n(4),o=n(42),l={computed:Object(c.a)({},Object(o.b)({accesstoken:"user/accesstoken",loginInfo:"user/loginInfo",userInfo:"user/userInfo"})),mounted:function(){this.fetchUserInfo()},methods:{fetchUserInfo:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.loginInfo.loginname){t.next=4;break}return t.next=4,this.$store.dispatch("user/getUserInfo",this.loginInfo.loginname);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),toCreateTopic:function(){this.$router.push({name:"topic-create"})},toLogin:function(){this.$router.push({name:"login"})},toUserInfo:function(){this.$router.push({path:"/user/".concat(this.loginInfo.loginname)})}}},d=(n(355),n(14)),component=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{attrs:{id:"sidebar"}},[t.accesstoken?t._e():n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("CNode：Node.js专业中文社区")])]),t._v(" "),n("div",{staticClass:"box-card-content login-box"},[n("div",{staticClass:"box-card-content-header"},[t._v("\n        您可以\n        "),n("nuxt-link",{attrs:{to:{name:"login"}}},[t._v("\n          登录\n        ")]),t._v("\n        或\n        "),n("nuxt-link",{attrs:{to:{name:"register"}}},[t._v("\n          注册\n        ")]),t._v("，也可以\n        "),n("el-button",{attrs:{type:"primary"},on:{click:t.toLogin}},[t._v("通过 GitHub 登录")])],1)])]),t._v(" "),t.accesstoken?n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("个人信息")])]),t._v(" "),n("div",{staticClass:"box-card-content"},[n("div",{staticClass:"box-card-content-header"},[n("a",{staticClass:"user_avatar",attrs:{href:"javascript:;"},on:{click:t.toUserInfo}},[n("img",{attrs:{src:t.userInfo.avatar_url,alt:t.userInfo.loginname}})]),t._v(" "),n("span",{staticClass:"user_name"},[t._v("\n          "+t._s(t.userInfo.loginname)+"\n        ")])]),t._v(" "),n("div",{staticClass:"board"},[n("span",[t._v("积分："+t._s(t.userInfo.score))])]),t._v(" "),n("div",{staticClass:"bottom"},[n("span",{staticClass:"signature"},[t._v("\n          “ 这家伙很懒，什么个性签名都没有留下。 ”\n        ")])])])]):t._e(),t._v(" "),t.accesstoken?n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"box-card-content"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:t.toCreateTopic}},[t._v("\n        发布话题\n      ")])],1)]):t._e()],1)},[],!1,null,"5442bcf6",null);e.a=component.exports},359:function(t,e,n){"use strict";var r=n(354);n.n(r).a},360:function(t,e,n){"use strict";var r={props:{breadcrumb:{type:Array,default:function(){return[]}}}},c=(n(359),n(14)),component=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.breadcrumb&&t.breadcrumb.length?n("ol",{staticClass:"breadcrumb"},t._l(t.breadcrumb,function(e){return n("li",{key:e.title,class:{active:e.active}},[e.active?[t._v(t._s(e.title))]:[n("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(e.title))]),t._v(" "),n("span",{staticClass:"divider"},[t._v("/")])]],2)}),0):t._e()},[],!1,null,"b9a678ee",null);e.a=component.exports},363:function(t,e,n){},376:function(t,e,n){"use strict";var r=n(363);n.n(r).a},385:function(t,e,n){"use strict";n.r(e);n(57);var r=n(6),c=n(4),o=n(42),l=n(358),d=n(360),v={components:{SideBar:l.a,Breadcrumb:d.a},data:function(){return{breadcrumb:[{title:"主页",active:!1},{title:"新消息",active:!0}]}},computed:Object(c.a)({},Object(o.b)({messages:"user/messages",accesstoken:"user/accesstoken",loading:"user/loading"})),mounted:function(){var t=this;setTimeout(function(){t.fetchMessages()},0)},methods:{fetchMessages:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={accesstoken:this.accesstoken},t.next=4,this.$store.dispatch("user/getMessages",e);case 4:(n=t.sent).success||this.$message({message:n.error_msg,type:"error"}),console.log("messages: ",n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),this.$message({message:t.t0.error_msg||t.t0.message,type:"error"});case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}()}},_=(n(376),n(14)),component=Object(_.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"msg-container container"},[n("div",{staticClass:"clearfix",attrs:{id:"main"}},[n("side-bar"),t._v(" "),n("div",{attrs:{id:"content"}},[n("div",{staticClass:"panel"},[n("header",{staticClass:"header"},[n("breadcrumb",{attrs:{breadcrumb:t.breadcrumb}})],1),t._v(" "),n("div",{staticClass:"inner"},[t.messages.hasnot_read_messages.length>0?t._l(t.messages.has_read_messages,function(e){return n("div",{key:e.id,staticClass:"cell"},[n("span",[n("router-link",{attrs:{to:{path:"/user/"+e.author.loginname},target:"_blank"}},[t._v("\n                  "+t._s(e.author.loginname)+"\n                ")]),t._v("\n                回复了你的话题\n                "),n("router-link",{attrs:{to:{path:"/topic/"+e.id},target:"_blank"}},[t._v("\n                  "+t._s(e.topic.title)+"\n                ")])],1)])}):[n("p",[t._v("无消息")])]],2)]),t._v(" "),n("div",{staticClass:"panel"},[t._m(0),t._v(" "),n("div",{class:{inner:!0,"has-msg":t.messages.has_read_messages.length>0}},[t.messages.has_read_messages.length>0?t._l(t.messages.has_read_messages,function(e){return n("div",{key:e.id,staticClass:"cell"},[n("span",[n("router-link",{attrs:{to:{path:"/user/"+e.author.loginname},target:"_blank"}},[t._v("\n                  "+t._s(e.author.loginname)+"\n                ")]),t._v("\n                回复了你的话题\n                "),t._v(" "),n("router-link",{attrs:{to:{path:"/topic/"+e.id},target:"_blank"}},[t._v("\n                  "+t._s(e.topic.title)+"\n                ")])],1)])}):[n("p",[t._v("无消息")])]],2)])])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("span",{staticClass:"col_fade"},[this._v("过往信息")])])}],!1,null,"7e168a29",null);e.default=component.exports}}]);