webpackJsonp([1],{"/aTe":function(t,e,a){var r=a("jDA8");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("29b6f522",r,!1,{sourceMap:!1})},"7sAn":function(t,e,a){"use strict";var r=a("Pomc"),s=a("OdaD"),o=!1;var n=function(t){o||a("kozZ")},i=a("VU/8")(r.a,s.a,!1,n,"data-v-0867d19c",null);i.options.__file="components\\SideBar\\editor_sidebar.vue",e.a=i.exports},HvM6:function(t,e,a){"use strict";var r=a("Wag4"),s=a("Zt/r"),o=!1;var n=function(t){o||a("dRdS")},i=a("VU/8")(r.a,s.a,!1,n,"data-v-86417824",null);i.options.__file="components\\NavBar\\index.vue",e.a=i.exports},OdaD:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sidebar"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Markdown 语法参考")])]),a("div",{staticClass:"box-card-content"},[a("ol",[a("li",[a("tt",[t._v("### 单行的标题")])],1),a("li",[a("tt",[t._v("**粗体**")])],1),a("li",[a("tt",[t._v("`console.log('行内代码')`")])],1),a("li",[a("tt",[t._v("```js\\n code \\n```")]),t._v(" 标记代码块")],1),a("li",[a("tt",[t._v("[内容](链接)")])],1),a("li",[a("tt",[t._v("![文字说明](图片链接)")])],1)]),a("span",[a("a",{attrs:{href:"https://segmentfault.com/markdown",target:"_blank"}},[t._v("Markdown 文档")])])])]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("话题发布指南")])]),a("div",{staticClass:"box-card-content"},[a("ol",[a("li",[t._v("尽量把话题要点浓缩到标题里")]),a("li",[t._v("代码含义和报错可在\n          "),a("a",{attrs:{href:"http://segmentfault.com/t/node.js"}},[t._v("SegmentFault")]),t._v(" 提问")])])])])],1)};r._withStripped=!0;var s={render:r,staticRenderFns:[]};e.a=s},Pomc:function(t,e,a){"use strict";e.a={}},UmeN:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"#sidebar .box-card[data-v-0867d19c]{font-size:13px;margin-bottom:15px}#sidebar .box-card .box-card-content ol[data-v-0867d19c]{margin:4px 0;list-style:none}#sidebar .box-card .box-card-content ol li[data-v-0867d19c]{line-height:2em}",""])},Wag4:function(t,e,a){"use strict";var r=a("Xxa5"),s=a.n(r),o=a("exGp"),n=a.n(o),i=a("Dd8w"),c=a.n(i),m=a("NYxO");e.a={computed:c()({},Object(m.mapGetters)({accesstoken:"user/accesstoken"})),methods:{LogOut:function(){var t=n()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.next=3,this.$store.dispatch("user/fedLogOut");case 3:this.$message({message:"退出成功",type:"success"}),setTimeout(function(){e.$router.push({name:"index"})},2e3);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),SelectMenu:function(t,e){"7"===t&&(this.accesstoken?this.LogOut():this.$router.push({name:"login"}))}}}},"Zt/r":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar"},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"navbar-container"},[a("el-menu",{attrs:{mode:"horizontal"},on:{select:t.SelectMenu}},[a("el-menu-item",{attrs:{index:"1"}},[a("router-link",{attrs:{to:{name:"index",exact:!0}}},[t._v("首页")])],1),a("el-menu-item",{attrs:{index:"2"}},[a("router-link",{attrs:{to:{name:"my-messages"}}},[t._v("未读信息")])],1),a("el-menu-item",{attrs:{index:"3"}},[t._v("新手入门")]),a("el-menu-item",{attrs:{index:"4"}},[t._v("API")]),a("el-menu-item",{attrs:{index:"5"}},[t._v("关于")]),a("el-menu-item",{attrs:{index:"6"}},[t._v("设置")]),a("el-menu-item",{attrs:{index:"7"}},[t.accesstoken?a("span",[t._v("退出")]):a("span",[t._v("登录")])])],1)],1)])])};r._withStripped=!0;var s={render:r,staticRenderFns:[]};e.a=s},dRdS:function(t,e,a){var r=a("jA0w");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("fbd963e6",r,!1,{sourceMap:!1})},jA0w:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},jDA8:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"#content .inner[data-v-94ba8886]{background-color:#fff;padding:10px;border-top:1px solid #e5e5e5;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px}#content .inner #title[data-v-94ba8886]{width:98%;border:none;resize:none;height:20px}#content .search-form .search-form-item[data-v-94ba8886]{margin-bottom:5px}#content .search-form .search-form-item button[data-v-94ba8886],#content .search-form .search-form-item input[data-v-94ba8886],#content .search-form .search-form-item select[data-v-94ba8886],#content .search-form .search-form-item textarea[data-v-94ba8886]{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#content .search-form .search-form-item button[data-v-94ba8886],#content .search-form .search-form-item input[data-v-94ba8886],#content .search-form .search-form-item label[data-v-94ba8886],#content .search-form .search-form-item select[data-v-94ba8886],#content .search-form .search-form-item textarea[data-v-94ba8886]{font-size:14px;font-weight:400;line-height:20px}#content .search-form .search-form-item label[data-v-94ba8886]{display:block;margin-bottom:5px}#content .search-form .search-form-item input[type=password][data-v-94ba8886],#content .search-form .search-form-item input[type=search][data-v-94ba8886],#content .search-form .search-form-item input[type=tel][data-v-94ba8886],#content .search-form .search-form-item input[type=text][data-v-94ba8886],#content .search-form .search-form-item input[type=url][data-v-94ba8886],#content .search-form .search-form-item select[data-v-94ba8886],#content .search-form .search-form-item textarea[data-v-94ba8886]{display:inline-block;height:20px;padding:4px 6px;margin-bottom:10px;font-size:14px;line-height:20px;color:#555;vertical-align:middle;-webkit-border-radius:4px;border-radius:4px}#content .search-form .search-form-item input[type=password][data-v-94ba8886],#content .search-form .search-form-item input[type=search][data-v-94ba8886],#content .search-form .search-form-item input[type=tel][data-v-94ba8886],#content .search-form .search-form-item input[type=text][data-v-94ba8886],#content .search-form .search-form-item input[type=url][data-v-94ba8886],#content .search-form .search-form-item textarea[data-v-94ba8886]{background-color:#fff;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border .2s linear,box-shadow .2s linear;-o-transition:border linear .2s,box-shadow linear .2s;-webkit-transition:border .2s linear,-webkit-box-shadow .2s linear;transition:border .2s linear,-webkit-box-shadow .2s linear;transition:border .2s linear,box-shadow .2s linear;transition:border .2s linear,box-shadow .2s linear,-webkit-box-shadow .2s linear}#content .search-form .search-form-item input[type=password][data-v-94ba8886]:focus,#content .search-form .search-form-item input[type=search][data-v-94ba8886]:focus,#content .search-form .search-form-item input[type=tel][data-v-94ba8886]:focus,#content .search-form .search-form-item input[type=text][data-v-94ba8886]:focus,#content .search-form .search-form-item input[type=url][data-v-94ba8886]:focus,#content .search-form .search-form-item textarea[data-v-94ba8886]:focus{border-color:#52a8ec;border-color:rgba(82,168,236,.8);outline:0;outline:dotted thin\\9;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(82,168,236,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(82,168,236,.6)}#content .search-form .search-form-item input[type=file][data-v-94ba8886],#content .search-form .search-form-item select[data-v-94ba8886]{height:30px;line-height:30px}#content .search-form .search-form-item select[data-v-94ba8886]{width:220px;border:1px solid #ccc}#content .search-form .search-form-item select[data-v-94ba8886]:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}#content .search-form .search-form-item input[data-v-94ba8886],#content .search-form .search-form-item input[data-v-94ba8886]:focus,#content .search-form .search-form-item textarea[data-v-94ba8886],#content .search-form .search-form-item textarea[data-v-94ba8886]:focus{-webkit-box-shadow:0 0 2px rgba(60,60,60,.5);box-shadow:0 0 2px rgba(60,60,60,.5)}#content .add-btn[data-v-94ba8886]{margin-top:10px}",""])},kRgc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("wkQ4"),s=a("msqg"),o=!1;var n=function(t){o||a("/aTe")},i=a("VU/8")(r.a,s.a,!1,n,"data-v-94ba8886",null);i.options.__file="pages\\topic\\edit.vue",e.default=i.exports},kozZ:function(t,e,a){var r=a("UmeN");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("3004d0a5",r,!1,{sourceMap:!1})},msqg:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topic-add-container container"},[a("nav-bar"),a("div",{staticClass:"clearfix",attrs:{id:"main"}},[a("editor-side-bar"),a("div",{attrs:{id:"content"}},[a("div",{staticClass:"inner"},[a("div",{staticClass:"search-form"},[a("div",{staticClass:"searchForm"},[a("div",{staticClass:"search-form-item"},[a("span",[t._v("选择板块：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.tab,expression:"searchForm.tab"}],attrs:{name:"tab",id:"tab-value"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchForm,"tab",e.target.multiple?a:a[0])}}},t._l(t.tabs,function(e,r){return a("option",{key:r,domProps:{value:e.value}},[t._v(t._s(e.key))])}))]),a("div",{staticClass:"search-form-item"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.title,expression:"searchForm.title"}],attrs:{autofocus:"",rows:"1",id:"title",placeholder:"标题字数 10 字以上"},domProps:{value:t.searchForm.title},on:{input:function(e){e.target.composing||t.$set(t.searchForm,"title",e.target.value)}}})])])]),a("mavon-editor",{ref:"topicContent",attrs:{ishljs:!0,toolbars:t.toolbars},model:{value:t.searchForm.content,callback:function(e){t.$set(t.searchForm,"content","string"==typeof e?e.trim():e)},expression:"searchForm.content"}}),a("el-button",{staticClass:"add-btn",attrs:{type:"primary",size:"small"},on:{click:t.createTopic}},[t._v("提交")])],1)])],1)],1)};r._withStripped=!0;var s={render:r,staticRenderFns:[]};e.a=s},wkQ4:function(t,e,a){"use strict";var r=a("Dd8w"),s=a.n(r),o=a("Xxa5"),n=a.n(o),i=a("exGp"),c=a.n(i),m=a("NYxO"),d=a("HvM6"),l=a("7sAn");e.a={components:{NavBar:d.a,EditorSideBar:l.a},asyncData:function(){var t=c()(n.a.mark(function t(e){var a,r,s=e.store,o=(e.route,e.query);return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.id,r={id:void 0===a?"":a,mdrender:!1},t.next=4,s.dispatch("topic/getTopic",r);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),computed:s()({},Object(m.mapGetters)({topic:"topic/topic",accesstoken:"user/accesstoken",loading:"user/loading"})),data:function(){return{searchForm:{tab:"",title:"",content:"",topic_id:null},tabs:[{key:"请选择",value:""},{key:"分享",value:"share"},{key:"问答",value:"ask"},{key:"招聘",value:"job"},{key:"客户端测试",value:"dev"}],toolbars:{bold:!0,italic:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,help:!0,fullscreen:!0,preview:!0}}},created:function(){this.topic&&(this.searchForm.topic_id=this.topic.id||null,this.searchForm.tab=this.topic.tab||"",this.searchForm.title=this.topic.title||"",this.searchForm.content=this.topic.content||"")},methods:{createTopic:function(){var t=c()(n.a.mark(function t(){var e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.accesstoken){t.next=3;break}return this.$message({message:"您还没登录，请先去登录再来发表文章",type:"error"}),t.abrupt("return");case 3:if(this.searchForm.topic_id){t.next=6;break}return this.$message({message:"缺少主题id",type:"error"}),t.abrupt("return");case 6:if(this.searchForm.tab){t.next=9;break}return this.$message({message:"必须选择一个版块！",type:"error"}),t.abrupt("return");case 9:if(this.searchForm.title){t.next=12;break}return this.$message({message:"标题不能是空的。",type:"error"}),t.abrupt("return");case 12:if(!(this.searchForm.title.length<10||this.searchForm.title.length>100)){t.next=15;break}return this.$message({message:"标题字数太多或太少。",type:"error"}),t.abrupt("return");case 15:if(this.searchForm.content){t.next=18;break}return this.$message({message:"内容不可为空。",type:"error"}),t.abrupt("return");case 18:return e=s()({},this.searchForm,{accesstoken:this.accesstoken}),t.prev=19,t.next=22,this.$store.dispatch("topic/updateTopic",e);case 22:t.sent.success?(this.$message({message:"添加文章成功",type:"success"}),this.$router.push({name:"topic",query:{id:this.topic.id}})):this.$message({message:"添加文章失败",type:"error"}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(19),this.$message({message:"添加文章失败",type:"error"});case 29:case"end":return t.stop()}},t,this,[[19,26]])}));return function(){return t.apply(this,arguments)}}()}}}});